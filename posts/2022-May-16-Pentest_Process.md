> Pentest: is a complex, cyclical process of both identifying and exploiting vulnerabilities in a system.

# **1. Pre-engagement**

    The Pentest service provider "Individuals or Organization" must discuss and agree upon a number if legal and technical matters with the Client.
**Rules of Engagement(RoE):** The formalized paperwork of the engagement agreement it can be more than one documents defines the below objectives:

**1.1 The goal and scope:** Are two different terms:

* Goal: The reason make the client want the service. and it shape the way of dealing with the pre-engagement eg: The client "Got HAcked" not like The client "Validate "ISO, NIST, etc" Compliances"

* Scope: The exact what will be "allowed to " test it.
        * Logical scope: Entire (Department, Line of Operartions, Organization, etc).
        * Physical scope: IP addresses, Given servers (Identified by IP, or Names), Domains, SubDomains, Autonomous systems, etc.

>**Important Note:** Any test beyond the defined scope is a breach of the **"RoE"** abd therefore, could result in criminal charges.

**1.2 The Timeline and Milestones:** Contains:

* Start (Format: Date-Time)
* End (Format: Date-Time)
* Source IP address
* Targets
* Step in the process (Format: text)
* Criticality of the test (Format: text)

>**Important Note:** Timing is usually suggested by and agreed upon with the client and the testing time can change during the engagement, as information is uncovered

**1.3 The Liabilities / Responsibilities:**

* Liabilities:
  * Access sensitive data out-of-scope.
  * Accidentally remove data.
  * Accidentally cause unavailability of services.
  * Other catastrophic event with an impact on the Org.
* Responsibilities:
  * Keep the client informed and up-to-date during the pentest.
  * Keep reports and collected data in a safe place.
  * Following a code of ethics.
  * Nondisclosure of any information.

**1.4 The Allowed Techniques:** Define what is allowed and what is not in advance will greatly decrease the chances of surprising the client with really bad news.

**1.5 The Deliverables and Expectations:** The format of the reports must be agreed with the client from the beginning and start producing it from Day 1 of the engagement.

                    ~~The End OF The Section~~

# **2. Methodologies**

>There are some pre-defined standards:
>
>1. [Penetration Execution Standard (PTES)](http://www.pentest-standard.org/index.php/Main_Page)
>2. [OWASP Web Security Testing Guide](https://owasp.org/www-project-web-security-testing-guide)

                    ~~The End OF The Section~~

# **3. Reporting**

- The client by this level expecting:
  * Know the status of the security of the assets in the scope.
  * Know what is vulnerable.
  * Know what is need to be fixed first.
* The Report must be:
  * Exhaustive
  * Clear
  * On-Time
  * Good looking
  * Adherent to client's goals

>**Important Notes:**
>
>* There is not a prescribed or standard structure to the pentest reports. However, there are best practices, Do's and Don'ts and Critical aspects that should be taken care of while writing a report.
>* Often (Mistakenly) believed to be the last chronological step of an engagement.
    >   * Some important details will be forgets to be mentioned.
    >   * With big scope the time might run out.
> * Create a report must include different sections to cover different audience:
    >   * C-level: are not really interesting on which exploit used and how much as the The cost of the impacts and mitigation's
    >   * Developers: Will focus on what is the patch and how it works

## Report Best Practices

>Progress log:
    >
    >* Test
    >* Collect info: Mindmap, and Spreadsheets, are the best two ways to store the information with structure and relationships.
    >* Report
    >
### The contents of the report

1. Rules of Engagement: Describing the engagement and the client goals.
2. Executive Summary (2 to 3 pages max):
    * Risk Exposure Over Time
    * Vulnerabilities by impact Graph.
    * Vulnerabilities & Attacks by type Graph [CAPEC](https://capec.mitre.org/data/definitions/2000.html).
    * Vulnerabilities by Cause Graph.
        * Zero-Day
         * Unpatched SoftWare
         * Failure to implement security controls
         * Improper authentication management
         * Misconfigurations
         * Other
3. Vulnerability / Technical Report:
    * Vulnerabilities per item in scope.
        - Vulnerability schema: 

        |||
        | ----------- | ----------- |
        | Name of Vulnerability | Brief Description |
        || Impact (CVSSv2) - Business impact |
        ||References to classifications (WASC, MITRE CWE, OWASP)|
        ||Vulnerability ID (OSVDB, CVE)|
        | Exploitation POC | Screenshot |
        | |Exploitation code |
        | Affected targets | VLUUN # sql.1 : Domain 1 / Page 1 / parameter 1 |
        || VLUUN # sql.1 : Domain 2 / Page 2 / parameter 2 |
        || VLUUN # sql.1 : Domain 3 / Page 3 / parameter 3 |
        ||
        - Detailed proof of concept (POC)
4. Remediation report:
    - Short term time zone: Address the most important vulnerabilities as soon as possible.
    - Long term time zone
        - Implementation of Secure Software Development Lifecycle (SSDLC).
        - The of security checks early in the development processes.
        - Use different platforms, version, etc. 
        
**5. [Extra reports resource](https://cure53.de/#publications)**

                    ~~The End OF The Section~~
